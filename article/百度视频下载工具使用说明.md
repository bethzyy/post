# ç™¾åº¦è§†é¢‘ä¸‹è½½å·¥å…· - ä½¿ç”¨è¯´æ˜

## ğŸ“Œ å·¥å…·çŠ¶æ€

**ç‰ˆæœ¬**: v1.0
**çŠ¶æ€**: å¼€å‘ä¸­
**é—®é¢˜**: ç™¾åº¦å®‰å…¨éªŒè¯é˜»æ­¢ç›´æ¥è®¿é—®

## âš ï¸ å½“å‰é™åˆ¶

### ç™¾åº¦å®‰å…¨éªŒè¯
ç™¾åº¦è§†é¢‘é¡µé¢æœ‰åçˆ¬è™«ä¿æŠ¤,ä¼šè¿”å›"ç™¾åº¦å®‰å…¨éªŒè¯"é¡µé¢è€Œä¸æ˜¯å®é™…å†…å®¹ã€‚

**ç°è±¡**:
```
<title>ç™¾åº¦å®‰å…¨éªŒè¯</title>
```

**åŸå› **:
- éœ€è¦æµè§ˆå™¨Cookie
- éœ€è¦JavaScriptéªŒè¯
- å¯èƒ½éœ€è¦ç™»å½•çŠ¶æ€

## ğŸ’¡ è§£å†³æ–¹æ¡ˆ

### æ–¹æ¡ˆ1: ä½¿ç”¨æµè§ˆå™¨Cookie (æ¨è)

1. **åœ¨æµè§ˆå™¨ä¸­æ‰“å¼€è§†é¢‘é¡µé¢**
   ```
   https://mbd.baidu.com/newspaper/data/videolanding?nid=sv_4044622135715273707&sourceFrom=qmj
   ```

2. **è·å–Cookie**
   - æŒ‰F12æ‰“å¼€å¼€å‘è€…å·¥å…·
   - åˆ‡æ¢åˆ°Networkæ ‡ç­¾
   - åˆ·æ–°é¡µé¢
   - æ‰¾åˆ°ç¬¬ä¸€ä¸ªè¯·æ±‚
   - å¤åˆ¶Request Headersä¸­çš„Cookie

3. **ä¿®æ”¹å·¥å…·ä»£ç **
   ```python
   self.headers = {
       'User-Agent': '...',
       'Cookie': 'ä½ å¤åˆ¶çš„Cookie'  # æ·»åŠ è¿™è¡Œ
   }
   ```

### æ–¹æ¡ˆ2: ä½¿ç”¨Seleniumè‡ªåŠ¨åŒ–

éœ€è¦å®‰è£…Seleniumå’ŒWebDriver:

```bash
pip install selenium
```

ä½¿ç”¨Seleniumæ¨¡æ‹ŸçœŸå®æµè§ˆå™¨è®¿é—®:

```python
from selenium import webdriver
from selenium.webdriver.common.by import By

driver = webdriver.Chrome()
driver.get(url)

# ç­‰å¾…é¡µé¢åŠ è½½
import time
time.sleep(5)

# è·å–é¡µé¢HTML
html = driver.page_source

# æå–è§†é¢‘URL
# ...

driver.quit()
```

### æ–¹æ¡ˆ3: ä½¿ç”¨ç°æˆçš„ä¸‹è½½å·¥å…·

æ¨èä½¿ç”¨ä¸“é—¨çš„è§†é¢‘ä¸‹è½½å·¥å…·:

**yt-dlp** (æ”¯æŒç™¾åº¦):
```bash
pip install yt-dlp
yt-dlp "https://mbd.baidu.com/newspaper/data/videolanding?nid=sv_4044622135715273707&sourceFrom=qmj"
```

**you-get**:
```bash
pip install you-get
you-get "https://mbd.baidu.com/newspaper/data/videolanding?nid=sv_4044622135715273707&sourceFrom=qmj"
```

## ğŸ”§ å·¥å…·åŠŸèƒ½

### å·²å®ç°åŠŸèƒ½
- âœ… URLè§£æ
- âœ… é¡µé¢ä¸‹è½½
- âœ… å¤šç§æ¨¡å¼åŒ¹é…è§†é¢‘URL
- âœ… è°ƒè¯•HTMLä¿å­˜
- âœ… è§†é¢‘æ–‡ä»¶ä¸‹è½½
- âœ… è¿›åº¦æ˜¾ç¤º
- âœ… å‘½ä»¤è¡Œæ”¯æŒ

### å¾…æ”¹è¿›åŠŸèƒ½
- â³ ç»•è¿‡ç™¾åº¦å®‰å…¨éªŒè¯
- â³ Cookieç®¡ç†
- â³ Seleniumé›†æˆ
- â³ æ›´å¤šè§†é¢‘å¹³å°æ”¯æŒ

## ğŸ“ ä½¿ç”¨ç¤ºä¾‹

### å‘½ä»¤è¡Œæ¨¡å¼
```bash
# åŸºæœ¬ç”¨æ³•
python baidu_video_downloader.py "https://mbd.baidu.com/..."

# æŒ‡å®šè¾“å‡ºæ–‡ä»¶å
python baidu_video_downloader.py "https://mbd.baidu.com/..." "output.mp4"
```

### äº¤äº’æ¨¡å¼
```bash
python baidu_video_downloader.py

# æŒ‰æç¤ºè¾“å…¥URLå’Œæ–‡ä»¶å
```

## ğŸ› ï¸ å¼€å‘è°ƒè¯•

### è°ƒè¯•æ¨¡å¼
å·¥å…·ä¼šè‡ªåŠ¨ä¿å­˜é¡µé¢HTMLåˆ°`baidu_page_debug.html`ç”¨äºè°ƒè¯•ã€‚

### æŸ¥çœ‹è°ƒè¯•ä¿¡æ¯
```bash
# è¿è¡Œå·¥å…·
python baidu_video_downloader.py "URL"

# æŸ¥çœ‹ä¿å­˜çš„HTML
cat baidu_page_debug.html
```

## ğŸ“š ç›¸å…³èµ„æº

### ç™¾åº¦è§†é¢‘URLæ ¼å¼
- æ–°é—»è§†é¢‘: `mbd.baidu.com/newspaper/data/videolanding?nid=...`
- ç™¾å®¶å·: `baijiahao.baidu.com/s?...`
- ç™¾åº¦è§†é¢‘: `haokan.baidu.com/v?...`

### è§†é¢‘æ ¼å¼
- MP4: æœ€å¸¸è§,ç›´æ¥ä¸‹è½½
- M3U8: æµåª’ä½“æ ¼å¼,éœ€è¦ç‰¹æ®Šå¤„ç†
- FLV: è€å¼æ ¼å¼,è¾ƒå°‘è§

## ğŸ”„ ç‰ˆæœ¬å†å²

**v1.0** (å½“å‰ç‰ˆæœ¬)
- âœ… åŸºç¡€æ¶æ„å®Œæˆ
- âœ… URLè§£æåŠŸèƒ½
- âœ… è§†é¢‘ä¸‹è½½åŠŸèƒ½
- âš ï¸ ç™¾åº¦å®‰å…¨éªŒè¯é—®é¢˜å¾…è§£å†³

**v1.1** (è®¡åˆ’ä¸­)
- â³ æ·»åŠ Cookieæ”¯æŒ
- â³ é›†æˆSelenium
- â³ æ”¯æŒæ›´å¤šå¹³å°

## ğŸ’¡ æ›¿ä»£æ–¹æ¡ˆ

ç”±äºç™¾åº¦çš„åçˆ¬è™«é™åˆ¶,æ¨èä½¿ç”¨ä»¥ä¸‹æˆç†Ÿå·¥å…·:

### 1. yt-dlp (å¼ºçƒˆæ¨è)
```bash
# å®‰è£…
pip install yt-dlp

# ä½¿ç”¨
yt-dlp -o "video.mp4" "URL"
```

### 2. you-get
```bash
# å®‰è£…
pip install you-get

# ä½¿ç”¨
you-get -o . "URL"
```

### 3.ffmpeg + m3u8ä¸‹è½½
å¯¹äºM3U8æµåª’ä½“:
```bash
ffmpeg -i "m3u8_url" -c copy video.mp4
```

## ğŸ“ æŠ€æœ¯æ”¯æŒ

å¦‚æœé‡åˆ°é—®é¢˜:
1. æ£€æŸ¥ç½‘ç»œè¿æ¥
2. ç¡®è®¤URLæœ‰æ•ˆ
3. æŸ¥çœ‹`baidu_page_debug.html`
4. å°è¯•ä½¿ç”¨yt-dlpç­‰æ›¿ä»£å·¥å…·

---

**ä½œè€…**: AIå‘æ–‡å·¥å…·ç®¡ç†å™¨
**æ›´æ–°æ—¥æœŸ**: 2026-01-29
**ç‰ˆæœ¬**: v1.0

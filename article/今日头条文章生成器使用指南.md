# ä»Šæ—¥å¤´æ¡æ–‡ç« ç”Ÿæˆå™¨ v3.1 - ä½¿ç”¨æŒ‡å—

## ğŸ“‹ å½“å‰å·²æ•´åˆçš„åŠŸèƒ½

### âœ… å·²æœ‰åŠŸèƒ½

1. **å¤šç§å†™ä½œé£æ ¼**
   - `style='standard'` - æ ‡å‡†é£æ ¼ï¼ˆé€šä¿—æ˜“æ‡‚ã€æ¥åœ°æ°”ï¼‰
   - `style='professional'` - èµ„æ·±å†™æ‰‹é£æ ¼ï¼ˆä¼˜ç¾æ·±åˆ»ï¼‰
   - `style='wangzengqi'` - æ±ªæ›¾ç¥ºæ•£æ–‡é£æ ¼ï¼ˆæ·¡é›…æ€€æ—§ï¼‰

2. **é…å›¾ç”Ÿæˆ**
   - `image_style='realistic'` - çœŸå®ç…§ç‰‡é£æ ¼
   - `image_style='artistic'` - è‰ºæœ¯åˆ›ä½œé£æ ¼
   - `image_style='cartoon'` - å¡é€šæ’ç”»é£æ ¼

3. **è‰ç¨¿å®Œå–„åŠŸèƒ½**
   - `improve_article_draft(draft_content, style='wangzengqi')`
   - è‡ªåŠ¨æ¸…ç†ç‰¹æ®Šå­—ç¬¦ï¼ˆsurrogate charactersï¼‰
   - ä¿ç•™åŸè‰ç¨¿æ ¸å¿ƒæ€æƒ³

4. **ä¸»é¢˜ç”ŸæˆåŠŸèƒ½**
   - `generate_article_with_ai(theme, style='wangzengqi')`
   - ç”Ÿæˆé…å›¾ï¼ˆ3å¼ ï¼‰
   - åˆ›å»ºHTMLå’ŒMarkdownæ–‡ä»¶

5. **HTMLè¾“å‡º**
   - å“åº”å¼è®¾è®¡
   - ç¾è§‚çš„æ’ç‰ˆ
   - è‡ªåŠ¨åœ¨æµè§ˆå™¨ä¸­æ‰“å¼€

### âŒ ç¼ºå¤±çš„å…³é”®åŠŸèƒ½

å¯¹æ¯”åˆšæ‰ç”Ÿæˆçš„"å®Œæ•´ç‰ˆ"æ–‡ç« ï¼Œä»¥ä¸‹åŠŸèƒ½å°šæœªæ•´åˆåˆ°ç”Ÿæˆå™¨ä¸­ï¼š

1. **åŸè‰ç¨¿å……åˆ†å¼•ç”¨**
   - âŒ æ²¡æœ‰å¼ºåˆ¶å¼•ç”¨åŸè‰ç¨¿ä¸­çš„å…³é”®å¥å­
   - âŒ æ²¡æœ‰æå–å’Œæ˜¾ç¤ºåŸè‰ç¨¿å¼•ç”¨ç»Ÿè®¡
   - âŒ æ²¡æœ‰åœ¨HTMLä¸­é«˜äº®æ˜¾ç¤ºåŸè‰ç¨¿å¼•ç”¨

2. **ä¸“ä¸šå¹³é¢è®¾è®¡å¸ˆæ’ç‰ˆ**
   - âŒ æ²¡æœ‰å¼€ç¯‡å¤§å›¾å¸ƒå±€
   - âŒ æ²¡æœ‰å³ä¾§æµ®åŠ¨å›¾ç‰‡å¸ƒå±€
   - âŒ æ²¡æœ‰æ ¹æ®æ–‡ç« å†…å®¹æ™ºèƒ½ç¡®å®šå›¾ç‰‡æ’å…¥ä½ç½®
   - âŒ æ²¡æœ‰å›¾ç‰‡è¯´æ˜æ–‡å­—

3. **åŸè‰ç¨¿å±•ç¤º**
   - âŒ æ²¡æœ‰åœ¨æ–‡ç« å¼€å¤´å±•ç¤ºåŸè‰ç¨¿å†…å®¹
   - âŒ æ²¡æœ‰åŸè‰ç¨¿å¼•ç”¨ç»Ÿè®¡é¢æ¿

## ğŸ”§ å¦‚ä½•ä½¿ç”¨ç°æœ‰åŠŸèƒ½ç”Ÿæˆé«˜è´¨é‡æ–‡ç« 

### æ–¹æ³•1ï¼šä½¿ç”¨è‰ç¨¿å®Œå–„æ¨¡å¼

```python
from toutiao_article_generator import ToutiaoArticleGenerator

generator = ToutiaoArticleGenerator()

# è¯»å–åŸè‰ç¨¿
with open('article/draft.txt', 'r', encoding='utf-8') as f:
    draft_content = f.read()

# ä½¿ç”¨æ±ªæ›¾ç¥ºé£æ ¼å®Œå–„è‰ç¨¿
article = generator.improve_article_draft(
    draft_content,
    target_length=2000,
    style='wangzengqi'
)

print(f"æ ‡é¢˜: {article['title']}")
print(f"å­—æ•°: {article['word_count']}")
print(f"å†…å®¹: {article['content']}")
```

### æ–¹æ³•2ï¼šä½¿ç”¨ä¸»é¢˜ç”Ÿæˆæ¨¡å¼

```python
from toutiao_article_generator import ToutiaoArticleGenerator

generator = ToutiaoArticleGenerator()

# åŸºäºä¸»é¢˜ç”Ÿæˆæ–‡ç« 
article = generator.generate_article_with_ai(
    "æœªæ¥å›¾ä¹¦é¦†ï¼šAIæ—¶ä»£çš„çŸ¥è¯†ä½“éªŒä¸­å¿ƒ",
    target_length=2000,
    style='wangzengqi'
)

# ç”Ÿæˆé…å›¾
images = generator.generate_article_images("æœªæ¥å›¾ä¹¦é¦†", "realistic")

# åˆ›å»ºHTML
html = generator.create_article_html(
    article['title'],
    article['content'],
    "æœªæ¥å›¾ä¹¦é¦†",
    images=images
)

# ä¿å­˜æ–‡ä»¶
with open('output.html', 'w', encoding='utf-8') as f:
    f.write(html)
```

### æ–¹æ³•3ï¼šç›´æ¥è¿è¡Œä¸»ç¨‹åº

```bash
cd C:/D/CAIE_tool/MyAIProduct/post/article
python toutiao_article_generator.py
```

ç„¶åæŒ‰ç…§æç¤ºé€‰æ‹©ï¼š
1. é€‰æ‹©ç”Ÿæˆæ¨¡å¼ï¼ˆè‰ç¨¿å®Œå–„ vs ä¸»é¢˜ç”Ÿæˆï¼‰
2. è¾“å…¥ä¸»é¢˜æˆ–ç²˜è´´è‰ç¨¿
3. é€‰æ‹©å†™ä½œé£æ ¼
4. é€‰æ‹©é…å›¾é£æ ¼

## ğŸ“ ç”Ÿæˆé«˜è´¨é‡æ–‡ç« çš„æœ€ä½³å®è·µ

### 1. å……åˆ†å¼•ç”¨åŸè‰ç¨¿ï¼ˆéœ€è¦æ‰‹åŠ¨è°ƒæ•´ï¼‰

ç”±äºå½“å‰ç‰ˆæœ¬æ²¡æœ‰è‡ªåŠ¨å¼•ç”¨åŠŸèƒ½ï¼Œéœ€è¦åœ¨promptä¸­å¼ºè°ƒï¼š

```python
# åœ¨è°ƒç”¨å‰ä¿®æ”¹prompt
custom_prompt = f"""ä½ æ˜¯æ±ªæ›¾ç¥ºå…ˆç”Ÿã€‚è¯·åŸºäºä»¥ä¸‹åŸè‰ç¨¿å†™æ–‡ç« ã€‚

## åŸè‰ç¨¿ï¼ˆå¿…é¡»å¼•ç”¨è¿™äº›å¥å­ï¼‰ï¼š
{draft_content}

## å¿…é¡»å¼•ç”¨çš„å¥å­ï¼š
- "å»ä¸€ä¸ªæ–°åŸå¸‚ï¼Œä½ è¿˜ä¼šé€›å›¾ä¹¦é¦†å—ï¼Ÿ"
- "å›¾ä¹¦é¦†çš„æ°›å›´æ˜¯ä¸€ä¸ªåŸå¸‚æ–‡åŒ–æ•™è‚²é‡è§†ç¨‹åº¦çš„ç¼©å½±"
- "å¿µå¿µä¸å¿˜ï¼Œå¿…æœ‰å›å“"
...ï¼ˆåˆ—å‡ºæ‰€æœ‰è¦å¼•ç”¨çš„å¥å­ï¼‰
"""
```

### 2. æ·»åŠ åŸè‰ç¨¿å±•ç¤ºå’Œé«˜äº®

ç”ŸæˆHTMLåï¼Œæ‰‹åŠ¨æ·»åŠ ï¼š

```html
<!-- åœ¨content divä¹‹å‰æ·»åŠ  -->
<div class="draft-box">
    <h3>åŸè‰ç¨¿</h3>
    <p>{åŸè‰ç¨¿å†…å®¹}</p>
</div>

<!-- åœ¨æ­£æ–‡ä¸­é«˜äº®å¼•ç”¨ -->
<mark class="draft-quote">å¼•ç”¨çš„å¥å­</mark>
```

### 3. å®ç°ä¸“ä¸šæ’ç‰ˆ

éœ€è¦åœ¨ç”Ÿæˆçš„HTMLä¸­è°ƒæ•´å›¾ç‰‡å¸ƒå±€ï¼š

```html
<!-- å¼€ç¯‡ä¸»åœºæ™¯å›¾ -->
<div class="image-container hero-image">
    <img src="é…å›¾1.jpg" alt="...">
    <div class="image-caption">è¯´æ˜æ–‡å­—</div>
</div>

<!-- ä¸­æ®µç»†èŠ‚å›¾ï¼ˆå³ä¾§æµ®åŠ¨ï¼‰ -->
<div class="image-container detail-image">
    <img src="é…å›¾2.jpg" alt="...">
</div>

<!-- å°¾æ®µç”Ÿæ´»åœºæ™¯å›¾ -->
<div class="image-container life-image">
    <img src="é…å›¾3.jpg" alt="...">
    <div class="image-caption">è¯´æ˜æ–‡å­—</div>
</div>
```

## ğŸš€ å»ºè®®çš„æ”¹è¿›æ–¹æ¡ˆ

### çŸ­æœŸæ–¹æ¡ˆï¼ˆç«‹å³å¯ç”¨ï¼‰

åˆ›å»ºä¸€ä¸ªå°è£…è„šæœ¬ `generate_high_quality_article.py`ï¼š

```python
#!/usr/bin/env python
# -*- coding: utf-8 -*-
"""ä¸€é”®ç”Ÿæˆé«˜è´¨é‡æ–‡ç« """

from toutiao_article_generator import ToutiaoArticleGenerator
from pathlib import Path
import os

def generate_high_quality_article(draft_file, theme, style='wangzengqi'):
    """ç”Ÿæˆé«˜è´¨é‡æ–‡ç« ï¼ˆåŒ…å«æ‰€æœ‰é«˜çº§åŠŸèƒ½ï¼‰"""

    # 1. è¯»å–è‰ç¨¿
    with open(draft_file, 'r', encoding='utf-8') as f:
        draft = f.read()

    # 2. ç”Ÿæˆæ–‡ç« 
    generator = ToutiaoArticleGenerator()
    article = generator.improve_article_draft(draft, style=style)

    # 3. ç”Ÿæˆé…å›¾
    images = generator.generate_article_images(theme, "realistic")

    # 4. åˆ›å»ºä¸“ä¸šæ’ç‰ˆHTML
    html = create_professional_html(
        article['title'],
        article['content'],
        draft,
        images,
        theme
    )

    # 5. ä¿å­˜æ–‡ä»¶
    timestamp = datetime.now().strftime('%Y%m%d_%H%M%S')
    html_file = f"é«˜è´¨é‡æ–‡ç« _{timestamp}.html"

    with open(html_file, 'w', encoding='utf-8') as f:
        f.write(html)

    # 6. æ‰“å¼€æµè§ˆå™¨
    import webbrowser
    webbrowser.open(f'file:///{os.path.abspath(html_file)}'.replace('\\', '/'))

    return html_file
```

### é•¿æœŸæ–¹æ¡ˆï¼ˆéœ€è¦ä¿®æ”¹æºç ï¼‰

æ›´æ–° `toutiao_article_generator.py`ï¼Œæ·»åŠ ï¼š

1. **æ–°æ–¹æ³•**: `generate_with_full_features()`
   - æ•´åˆæ‰€æœ‰é«˜çº§åŠŸèƒ½
   - è‡ªåŠ¨å¼•ç”¨åŸè‰ç¨¿
   - ä¸“ä¸šæ’ç‰ˆ
   - åŸè‰ç¨¿å±•ç¤º

2. **æ–°å‚æ•°**: `include_draft=True`, `highlight_quotes=True`, `professional_layout=True`

3. **æ–°æ ·å¼**: æ·»åŠ ä¸“ä¸šæ’ç‰ˆçš„CSSæ ·å¼

## ğŸ“Š åŠŸèƒ½å¯¹æ¯”è¡¨

| åŠŸèƒ½ | å½“å‰ç‰ˆæœ¬ | åˆšæ‰ç”Ÿæˆçš„å®Œæ•´ç‰ˆ |
|------|---------|----------------|
| æ±ªæ›¾ç¥ºé£æ ¼ | âœ… | âœ… |
| çœŸå®ç…§ç‰‡é…å›¾ | âœ… | âœ… |
| è‰ç¨¿å®Œå–„ | âœ… | âœ… |
| åŸè‰ç¨¿å……åˆ†å¼•ç”¨ | âŒ | âœ… |
| å¼•ç”¨ç»Ÿè®¡ | âŒ | âœ… |
| å¼•ç”¨é«˜äº® | âŒ | âœ… |
| åŸè‰ç¨¿å±•ç¤º | âŒ | âœ… |
| ä¸“ä¸šæ’ç‰ˆ | âŒ | âœ… |
| æ™ºèƒ½å›¾ç‰‡æ’å…¥ | âŒ | âœ… |
| å›¾ç‰‡è¯´æ˜ | âŒ | âœ… |

## ğŸ’¡ æ¨èä½¿ç”¨æ–¹å¼

**å½“å‰æœ€ä½³å®è·µ**ï¼š

```bash
# 1. ä½¿ç”¨å®Œæ•´ç‰ˆç”Ÿæˆè„šæœ¬
python final_complete_article.py

# 2. æˆ–è€…åˆ†æ­¥æ‰§è¡Œ
# å…ˆç”Ÿæˆæ–‡ç« 
python generate_wangzengqi_with_quotes.py

# å†æ·»åŠ å›¾ç‰‡å’Œä¸“ä¸šæ’ç‰ˆ
python add_images_to_article.py
```

è¿™æ ·å¯ä»¥ç¡®ä¿è·å¾—æœ€é«˜è´¨é‡çš„æ–‡ç« è¾“å‡ºã€‚

## ğŸ”® æœªæ¥å±•æœ›

å»ºè®®å°†æ‰€æœ‰è¿™äº›åŠŸèƒ½æ•´åˆåˆ° `toutiao_article_generator.py` v4.0ï¼š

- æ–°å¢ `generate_professional_article()` æ–¹æ³•
- æ”¯æŒ `auto_quote=True` å‚æ•°
- æ”¯æŒ `professional_layout=True` å‚æ•°
- ç»Ÿä¸€çš„é…ç½®æ–‡ä»¶
- Webç•Œé¢æ”¯æŒ

è¿™æ ·ç”¨æˆ·å°±å¯ä»¥ä¸€é”®ç”Ÿæˆä¸“ä¸šçº§çš„é«˜è´¨é‡æ–‡ç« äº†ã€‚

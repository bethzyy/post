# 二十四节气配图文档生成说明

## 概述

本文档说明如何为二十四节气HTML文档生成AI配图，创建配图版HTML文档。

## 文件结构

```
C:\D\CAIE_tool\MyAIProduct\post\article\二十四节气色彩\
├── {节气名}.html                    # 原始节气文档（无配图）
├── {节气名}_配图版.html              # 配图版文档
├── generate_{节气名拼音}_images.py   # 配图生成脚本
├── images/                          # 配图存储目录
│   ├── {节气拼音}_group1_xxx.jpg    # 第一组颜色配图
│   ├── {节气拼音}_group2_xxx.jpg    # 第二组颜色配图
│   ├── {节气拼音}_group3_xxx.jpg    # 第三组颜色配图
│   ├── {节气拼音}_group4_xxx.jpg    # 第四组颜色配图
│   ├── {节气拼音}_overview_xxx.jpg  # 节气总览图
│   └── ...
├── 配图文档生成说明.md               # 本说明文档
└── 二十四节气配图文档索引.html        # 配图文档总索引
```

## 生成步骤

### 第一步：读取原始节气文档

1. 读取 `{节气名}.html` 文件
2. 提取4组颜色的名称和色彩意象描述
3. 提取结尾的整体意境描述

### 第二步：创建配图生成脚本

创建 `generate_{节气名拼音}_images.py`，包含：

#### API配置
```python
from config import get_volcano_client, get_antigravity_client

volcano_client = get_volcano_client()  # 火山引擎 Seedream
antigravity_client = get_antigravity_client()  # Antigravity
```

#### 图片尺寸设置
- **横版（推荐）**: `size="1920x1080"` (16:9)
- **正方形**: `size="2048x2048"` (1:1)

**注意**: Seedream 4.5/4.0 使用 `"1920x1080"` 格式，不是 `"16:9"` 或 `"1:1"`

#### API调用方式
```python
response = volcano_client.images.generate(
    model="doubao-seedream-4-5-251128",  # Seedream 4.5
    prompt=prompt,
    size="1920x1080",  # 横版16:9
    response_format="url",
    extra_body={"watermark": False}
)
```

#### 降级策略
1. Seedream 4.5 → Seedream 4.0 → Antigravity → Pollinations

#### 提示词模板

**第一组颜色（一候）:**
```
Chinese traditional painting style, horizontal landscape composition 16:9,
[基于色彩意象描述的场景],
[颜色关键词如 purple, green, red 等],
[氛围描述如 elegant, serene, poetic],
no text, no watermark, no letters,
traditional Chinese watercolor aesthetic,
wide panoramic view
```

**每组配图需要:**
1. 文件名: `{节气拼音}_group{1-4}_{主题}.jpg`
2. 提示词: 英文，包含中国传统画风、颜色主题、场景描述

**节气总览图（2-3张）:**
1. 整体意境图
2. 三候组合图
3. 色彩组合图（可选）

### 第三步：运行配图生成脚本

```bash
cd C:\D\CAIE_tool\MyAIProduct\post\article\二十四节气色彩
python generate_{节气名拼音}_images.py
```

预计生成6-7张图片，耗时约3-5分钟。

### 第四步：创建配图版HTML文档

创建 `{节气名}_配图版.html`，参考模板：

```html
<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{节气名}节气与中国传统色彩</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
            line-height: 1.8;
            color: #333;
            background: #fff;
        }
        img {
            max-width: 100%;
            height: auto;
            display: block;
            margin: 20px 0;
            border-radius: 4px;
        }
        .gallery {
            display: flex;
            flex-direction: column;
            gap: 15px;
            margin: 20px 0;
        }
        .nav {
            display: flex;
            justify-content: space-between;
            margin-top: 30px;
            padding-top: 20px;
            border-top: 1px solid #eee;
        }
        .nav a { color: #8B4513; text-decoration: none; }
    </style>
</head>
<body>

<h1>{节气名}节气与中国传统色彩</h1>
<p class="meta">{日期} · 二十四节气色彩</p>

<!-- 原文内容 -->

<h2>第一组：{颜色名称}</h2>
<p>对应：{节气名}节气一候"{候名}"的起、承、转、合四色</p>
<p>色彩意象：{色彩意象描述}</p>
<img src="images/{节气拼音}_group1_{主题}.jpg" alt="{图片描述}">

<!-- 重复2-4组 -->

<!-- 结尾文字 -->
<div class="gallery">
    <img src="images/{节气拼音}_overview_1.jpg" alt="节气意境">
    <img src="images/{节气拼音}_overview_2.jpg" alt="节气三候">
</div>

<div class="nav">
    <a href="{上一节气}_配图版.html">← {上一节气}</a>
    <a href="二十四节气配图文档索引.html">目录</a>
    <a href="{下一节气}_配图版.html">{下一节气} →</a>
</div>

</body>
</html>
```

## 二十四节气与拼音对照表

| 节气 | 拼音 | 节气 | 拼音 |
|------|------|------|------|
| 立春 | lichun | 立秋 | liqiu |
| 雨水 | yushui | 处暑 | chushu |
| 惊蛰 | jingzhe | 白露 | bailu |
| 春分 | chunfen | 秋分 | qiufen |
| 清明 | qingming | 寒露 | hanlu |
| 谷雨 | guyu | 霜降 | shuangjiang |
| 立夏 | lixia | 立冬 | lidong |
| 小满 | xiaoman | 小雪 | xiaoxue |
| 芒种 | mangzhong | 大雪 | daxue |
| 夏至 | xiazhi | 冬至 | dongzhi |
| 小暑 | xiaoshu | 小寒 | xiaohan |
| 大暑 | dashu | 大寒 | dahan |

## 二十四节气三候对照表

### 春季
| 节气 | 初候 | 二候 | 三候 |
|------|------|------|------|
| 立春 | 东风解冻 | 蛰虫始振 | 鱼陟负冰 |
| 雨水 | 獭祭鱼 | 候雁北 | 草木萌动 |
| 惊蛰 | 桃始华 | 仓庚鸣 | 鹰化为鸠 |
| 春分 | 玄鸟至 | 雷乃发声 | 始电 |
| 清明 | 桐始华 | 田鼠化为鴽 | 虹始见 |
| 谷雨 | 萍始生 | 鸣鸠拂其羽 | 戴胜降于桑 |

### 夏季
| 节气 | 初候 | 二候 | 三候 |
|------|------|------|------|
| 立夏 | 蝼蝈鸣 | 蚯蚓出 | 王瓜生 |
| 小满 | 苦菜秀 | 靡草死 | 麦秋至 |
| 芒种 | 螳螂生 | 鵙始鸣 | 反舌无声 |
| 夏至 | 鹿角解 | 蜩始鸣 | 半夏生 |
| 小暑 | 温风至 | 蟋蟀居宇 | 鹰始鸷 |
| 大暑 | 腐草为萤 | 土润溽暑 | 大雨时行 |

### 秋季
| 节气 | 初候 | 二候 | 三候 |
|------|------|------|------|
| 立秋 | 凉风至 | 白露降 | 寒蝉鸣 |
| 处暑 | 鹰乃祭鸟 | 天地始肃 | 禾乃登 |
| 白露 | 鸿雁来 | 元鸟归 | 群鸟养羞 |
| 秋分 | 雷始收声 | 蛰虫坯户 | 水始涸 |
| 寒露 | 鸿雁来宾 | 雀入大水为蛤 | 菊有黄华 |
| 霜降 | 豺乃祭兽 | 草木黄落 | 蛰虫咸俯 |

### 冬季
| 节气 | 初候 | 二候 | 三候 |
|------|------|------|------|
| 立冬 | 水始冰 | 地始冻 | 雉入大水为蜃 |
| 小雪 | 虹藏不见 | 天气上升地气下降 | 闭塞而成冬 |
| 大雪 | 鹖鴠不鸣 | 虎始交 | 荔挺出 |
| 冬至 | 蚯蚓结 | 麋角解 | 水泉动 |
| 小寒 | 雁北乡 | 鹊始巢 | 雉始雊 |
| 大寒 | 鸡乳 | 征鸟厉疾 | 水泽腹坚 |

## 常见问题

### Q: Seedream 4.5 报 InvalidParameter 错误？
A: 使用 `size="1920x1080"` 格式，不要使用 `"1:1"` 或 `"16:9"`

### Q: API配额超限？
A: 脚本会自动降级到 Seedream 4.0，如仍超限可等待后重试或使用 Pollinations

### Q: 图片生成失败？
A: 检查：
1. API密钥是否有效
2. 网络连接是否正常
3. 提示词是否包含敏感词

### Q: 如何批量生成所有节气？
A: 可以创建一个循环脚本，按节气顺序逐个调用生成脚本，每个节气之间等待1-2分钟避免限流

## 修改记录

| 日期 | 修改内容 |
|------|----------|
| 2026-02-22 | 初始创建，基于春分、清明配图生成经验 |

---

*本文档最后更新：2026年2月22日*
